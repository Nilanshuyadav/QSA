@{
    ViewBag.Title = "BuildNewQuizz";
    Layout = null;
}

<script src="~/Scripts/jquery-3.4.1.js"></script>
<script>
    $(document).ready(function () {
        alert("hello");
        var cnt = 0;

        // Event delegation for dynamically added questions
        $("#containerbuildnewquizz").on("change", ".questionType", function () {
            var selectedOption = $(this).val();
            var $questionContainer = $(this).closest(".card-body");

            $questionContainer.find(".optiontable").html("");
            $questionContainer.find(".addoptionbyncontainer").html("");

            if (selectedOption === 'tf') {
                var true_false =
                    '<div class="form-check">' +
                    '    <input class="form-check-input" type="radio" name="trueFalseOption" id="trueOption" value="true">' +
                    '    <label class="form-check-label" for="trueOption">True</label>' +
                    '</div>' +
                    '<div class="form-check">' +
                    '    <input class="form-check-input" type="radio" name="trueFalseOption" id="falseOption" value="false">' +
                    '    <label class="form-check-label" for="falseOption">False</label>' +
                    '</div>';

                $questionContainer.find(".optiontable").html(true_false);

                $questionContainer.find("input[type='radio']").eq(0).prop("checked", true);
            } else {
                var option_ = '<button type="button" class="btn btn-light addoptionbtn">Add Option</button>';
                $questionContainer.find(".addoptionbyncontainer").html(option_);
            }
        });

        $("#containerbuildnewquizz").on("click", ".addoptionbtn", function () {
            var $questionContainer_ = $(this).closest(".card-body");

            var new_option =
                '<div class="form-check">' +
                '    <input class="form-check-input" type="radio" name="trueFalseOption" value="true">' +
                '    <label class="form-check-label" for="trueOption" contentEditable="true">option</label>' +
                '</div>';

            $(this).closest(".card-body").find(".optiontable").append(new_option);
            $questionContainer_.find("input[type='radio']").eq(0).prop("checked", true);
        });

        $("#btnbuildnewquizzquestion").click(function () {
            cnt++;
            var newQuestion =
                '<div class="card mb-4 border-dark question" style="width:45rem">' +
                '<div class="card-header text-dark">' + cnt + '</div>' +
                '<div class="card-body">' +
                '<div class="d-inline"><h5 class="card-title text-dark mb-5 d-inline" contentEditable="true">Question ' + cnt + '</h5></div>' +
                '<select class="custom-select d-inline end-0 questionType">' +
                '<option value="disables" disabled selected>Select</option>' +
                '<option value="tf">1. True/False</option>' +
                '<option value="multi">2. Multiple Choice</option>' +
                '</select>' +
                '<div class="addoptionbyncontainer"></div>' +
                '<table class="table table-borderless optiontable"></table>' +
                '</div>' +
                '</div>';

            $("#containerbuildnewquizz").append(newQuestion);
        });

        $("#btnbuildnewquizz").click(function () {
            var Questions = [];


        });
    });
</script>


<style>

    .containerbtn{
        width: 50%;
        margin: auto;
        margin-top: 35px;
    }

</style>

<div id="assignmentinfobuildnewquizz">
    <input type="text" style="width: 50%; padding: 5px;" placeholder="Assignment Name" id="assignmentnamebuildnewquizz" />
    
    <input type="text" style="width: 200px; padding: 5px; margin-left:35px;" placeholder="Category" id="assignmentcategorybuildnewquizz"/>
    
    <select class="custom-select d-inline end-0 ms-5" id="assignmentdifficultybuildnewquizz">
        <option value="Easy">Easy</option>
        <option value="Medium">Medium</option>
        <option value="Hard">Hard</option>
    </select>
</div>
<div id="containerbuildnewquizz">
</div>

<div style="width:35%; margin:auto;" id="btnbuildnewquizzquestion">
    <img src="~/AppFiles/Images/plus.png" class="btn btn-light rounded-pill mt-5" style="width:50px; height:50px;" />
</div>


<div class="containerbtn"><input id="btnbuildnewquizz" class="btn btn-primary btn-outline-info rounded-pill fw-bold text-white" value="Submit"></div>
